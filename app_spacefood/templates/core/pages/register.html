{% extends 'core/layout/base.html' %}
{% load static %}

{% block css %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'core/css/register.css' %}">
{% endblock %}

{% block contenido %}
  <div class="container mt-5">
    <div class="logo text-center">
      <img src="{% static 'core/imgs/logo.png' %}" alt="Logo SpaceFood" width="300">
    </div>

    <!-- Formulario con validación de Bootstrap -->
    <form method="post" action="{% url 'register' %}" class="row gx-4 gy-4 needs-validation formulario mx-auto" novalidate>
      {% csrf_token %}

      <!-- Nombre -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="text" class="form-control form-control-sm-custom" id="nombre" name="nombre" placeholder="Nombre" required>
          <label for="nombre">Nombre</label>
          <div class="invalid-feedback">
            Por favor ingresa tu nombre.
          </div>
        </div>
      </div>

      <!-- Segundo Nombre (opcional) -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="text" class="form-control form-control-sm-custom" id="segundoNombre" name="segundoNombre" placeholder="Segundo Nombre">
          <label for="segundoNombre">Segundo Nombre (opcional)</label>
        </div>
      </div>

      <!-- Apellido -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="text" class="form-control form-control-sm-custom" id="apellido" name="apellido" placeholder="Apellido" required>
          <label for="apellido">Apellido</label>
          <div class="invalid-feedback">
            Por favor ingresa tu apellido.
          </div>
        </div>
      </div>

      <!-- Segundo Apellido -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="text" class="form-control form-control-sm-custom" id="segundoApellido" name="segundoApellido" placeholder="Segundo Apellido" required>
          <label for="segundoApellido">Segundo Apellido</label>
          <div class="invalid-feedback">
            Por favor ingresa tu segundo apellido.
          </div>
        </div>
      </div>

      <!-- RUT -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="text" class="form-control form-control-sm-custom" id="rut" name="rut" placeholder="11.111.111-1" pattern="^[0-9]{1,2}\.[0-9]{3}\.[0-9]{3}-[0-9kK]{1}$" required>
          <label for="rut">RUT</label>
          <div class="invalid-feedback">
            Ingresa un RUT válido (formato 11.111.111-1).
          </div>
        </div>
      </div>

      <!-- Correo -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="email" class="form-control form-control-sm-custom" id="correo" name="correo" placeholder="name@example.com" required>
          <label for="correo">Correo</label>
          <div class="invalid-feedback">
            Ingresa un correo electrónico válido.
          </div>
        </div>
      </div>

      <!-- Teléfono -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="tel" class="form-control form-control-sm-custom" id="telefono" name="telefono" placeholder="912345678" pattern="^\+?\d{9}$" required>
          <label for="telefono">Teléfono</label>
          <div class="invalid-feedback">
            Ingresa un teléfono válido (solo números, 9 dígitos).
          </div>
        </div>
      </div>

      <!-- Dirección -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="text" class="form-control form-control-sm-custom" id="direccion" name="direccion" placeholder="Dirección" required>
          <label for="direccion">Dirección</label>
          <div class="invalid-feedback">
            Por favor ingresa tu dirección.
          </div>
        </div>
      </div>

      <!-- Contraseña -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="password" class="form-control form-control-sm-custom" id="contrasena" name="contrasena" placeholder="Contraseña" minlength="8" required>
          <label for="contrasena">Contraseña</label>
          <div class="invalid-feedback">
            La contraseña debe tener al menos 8 caracteres.
          </div>
        </div>
      </div>

      <!-- Confirmar Contraseña -->
      <div class="col-md-6">
        <div class="form-floating">
          <input type="password" class="form-control form-control-sm-custom" id="confirmarContrasena" name="confirmarContrasena" placeholder="Confirmar Contraseña" required>
          <label for="confirmarContrasena">Confirmar Contraseña</label>
          <div class="invalid-feedback">
            Las contraseñas no coinciden.
          </div>
        </div>
      </div>

      <!-- Fecha de Nacimiento -->
      <div class="col-md-6 mx-auto">
        <div class="form-floating">
          <input type="date" class="form-control" id="fechaNacimiento" name="fechaNacimiento" placeholder="Fecha nacimiento" required>
          <label for="fechaNacimiento">Fecha nacimiento</label>
          <div class="invalid-feedback">
            Por favor ingresa tu fecha de nacimiento.
          </div>
        </div>
      </div>

      <!-- Botón Registrar -->
      <div class="col-12 text-center">
        <button type="submit" class="btn-register">Registrarse</button>
      </div>
    </form>
  </div>

  <script src="{% static 'core/js/register.js' %}"></script>
{% endblock %}
